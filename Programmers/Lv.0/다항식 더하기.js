// ë³µìŠµì™„ë£ŒğŸ’«(221116)
// 2022.10.26(Wed)

// my way
function solution(polynomial) {
  polynomial = polynomial.split(" + "); // ['6x', '14x', '4']

  let answer = "";
  let x = 0; // ì¼ì°¨í•­
  let n = 0; // ìƒìˆ˜í•­

  for (let el of polynomial) {
    // xë¥¼ í¬í•¨í•˜ê³  ìˆìœ¼ë©´ ì¼ì°¨í•­ì— í•´ë‹¹
    if (el.includes("x")) {
      if (el === "x")
        x++; // ê·¸ëƒ¥ xì´ë©´ 1xê³¼ ê°™ì€ ê²ƒì´ë¯€ë¡œ ì¼ì°¨í•­ì„ 1 ì¦ê°€ ì‹œì¼œì¤€ë‹¤.
      else x += Number(el.slice(0, -1)); // xê°€ ì•„ë‹ˆë©´ ë§ˆì§€ë§‰ ë¬¸ìì—´ì¸ xë¥¼ ì œì™¸í•œ ì•ì˜ ìˆ«ìë§Œ ì˜ë¼ì„œ ë”í•˜ê¸°
      // 6x -> 6ë§Œ ì˜ë¼ì„œ x ë³€ìˆ˜ì— ë”í•˜ê¸°
    } else {
      // xë¥¼ í¬í•¨í•˜ê³  ìˆì§€ ì•Šìœ¼ë©´ ìƒìˆ˜í•­ì— í•´ë‹¹
      n += Number(el);
    }
  }

  if (x === 1 && n === 0)
    answer = `x`; // ì¼ì°¨í•­ë§Œ ì¡´ì¬í•˜ë©´ì„œ ìˆ«ìê°€ ì—†ëŠ” ê·¸ëƒ¥ xì¸ ê²½ìš°
  else if (x === 1)
    answer = `x + ${n}`; // ì¼ì°¨í•­, ìƒìˆ˜í•­ ëª¨ë‘ ì¡´ì¬í•˜ë©´ì„œ ì¼ì°¨í•­ì€ ê·¸ëƒ¥ xì¸ ê²½ìš°
  else if (x === 0) answer = `${n}`; // ìƒìˆ˜í•­ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš°
  else if (n === 0) answer = `${x}x`; // ì¼ì°¨í•­ë§Œ ì¡´ì¬í•˜ëŠ” ê²½ìš°
  else answer = `${x}x + ${n}`;

  return answer;
}

// ë‹¤ í’€ì–´ë†“ê³  í†µê³¼ê°€ ì•ˆë˜ì„œ ë³´ë‹ˆê¹Œ xì¼ ê²½ìš° 1xìœ¼ë¡œ ì¶œë ¥í•´ì„œ ì¼ë¶€ê°€ í†µê³¼ê°€ ì•ˆëë˜ê±°ë‹¤,, ê·¸ë˜ì„œ ifë¬¸ ë‚¨ë°œí•´ì„œ í•´ê²°ì€ í•¨..
// + polynomial[i] => el, if~elseë¬¸ì˜ ì¤‘ê´„í˜¸ ìƒëµê°€ëŠ¥í•œ ë¶€ë¶„ì€ ìƒëµí•˜ë‹ˆê¹Œ ì½”ë“œê°€ ì „ë³´ë‹¤ ê½¤ ì§§ì•„ì§!

// other way
function solution(polynomial) {
  const arr = polynomial.split(" + ");

  // ì¼ì°¨í•­ êµ¬í•˜ê¸°
  const xNum = arr
    .filter((n) => n.includes("x"))
    .map((n) => n.replace("x", "") || "1")
    .reduce((acc, cur) => acc + Number(cur), 0);
  // xë¥¼ í¬í•¨í•˜ëŠ” ì›ì†Œë§Œ êµ¬í•œ í›„, ë§Œì•½ 6xë¼ë©´ xë¥¼ ë¹ˆë¬¸ìì—´ë¡œ ë°”ê¾¸ê³ (6x->6),
  // ê·¸ëƒ¥ 'x'ì˜ ê²½ìš°ëŠ” ìœ„ì˜ ì¡°ê±´ì„ í†µê³¼í•˜ë©´ '' ë¹ˆë¬¸ìì—´(false)ì´ ë˜ë¯€ë¡œ ì´ëŸ´ ê²½ìš°ì—” or ì—°ì‚°ìë¥¼ í†µí•´ '1'ë¡œ ì²˜ë¦¬í•´ì¤€ë‹¤!
  // mapê¹Œì§€ êµ¬í˜„í–ˆì„ ë•Œ ['6', '14'] -> ëª¨ë“  ì›ì†Œë“¤ì„ reduceë¥¼ í†µí•´ ë”í•´ì£¼ê¸° => xNum = 6+14 = 20

  // ìƒìˆ˜í•­ êµ¬í•˜ê¸°
  const num = arr
    .filter((n) => !isNaN(n))
    .reduce((acc, cur) => acc + Number(cur), 0);
  // isNaN(n)ê°€ falseë¼ëŠ” ê²ƒì€ ìˆ«ìë¥¼ ëœ»í•˜ë¯€ë¡œ !isNaN(n) ë˜í•œ ìˆ«ìë¥¼ ëœ»í•œë‹¤. => ì¦‰, ìƒìˆ˜í•­ì„ ì˜ë¯¸

  let answer = [];
  // 1xì¸ ê²½ìš° '' ì¶œë ¥í•´ì„œ => x ë‚˜ì˜¤ë„ë¡ ì²˜ë¦¬
  if (xNum) answer.push(`${xNum === 1 ? "" : xNum}x`);
  // num = 0ì¸ ê²½ìš° falseì´ë¯€ë¡œ ì•„ë˜ ì¡°ê±´ì„ ë§Œì¡±í•˜ì§€ ëª»í•´ì„œ + 0ìœ¼ë¡œ ì•„ì˜ˆ pushê°€ ì•ˆë¨!
  if (num) answer.push(num);

  return answer.join(" + "); // ' + 'ë¡œ ì›ì†Œë“¤ì„ í•˜ë‚˜ì˜ ë¬¸ìì—´ë¡œ í•©ì³ì£¼ê¸°
}

// fitler, map, reduce ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë‹ˆê¹Œ ì½”ë“œê°€ ì§§ì•„ì¡Œë‹¤.

console.log(solution("6x + 14x + 4")); // "20x + 4"
